<!DOCTYPE html [
  <!ENTITY % pageDTD SYSTEM "chrome://conversations/locale/pages.dtd"> %pageDTD;
]>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at https://mozilla.org/MPL/2.0/. -->
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
<head>
  <title>Conversation Reader</title>
  <link rel="stylesheet" type="text/css"
    href="chrome://messenger/skin/tagColors.css"/>
  <link rel="stylesheet" type="text/css"
    href="chrome://conversations/skin/boxflex.css" />
  <!-- Keep the order! -->
  <link rel="stylesheet" type="text/css"
    href="chrome://conversations/skin/conversation.css" />
  <link rel="stylesheet" type="text/css"
    href="chrome://conversations/skin/quickreply.css" />
  <link rel="stylesheet" type="text/css"
    href="chrome://conversations/skin/tokeninput.css" />
  <link rel="stylesheet" type="text/css" media="print"
    href="chrome://conversations/skin/print.css" />
  <script type="text/javascript"
    src="chrome://conversations/content/vendor/react.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/vendor/react-dom.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/vendor/redux.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/vendor/react-redux.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/vendor/reactjs-popup.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/vendor/prop-types.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/reducer.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/attachments.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/conversationHeader.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/conversationFooter.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/messageIFrame.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/message.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/messageActionButton.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/messageHeaderOptions.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/messageHeader.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/messageDetails.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/messageNotification.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/messageFooter.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/contactDetail.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/messageAttachments.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/messageList.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/quoting.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/messageTags.js"></script>
  <script type="text/javascript"
    src="chrome://conversations/content/conversationWrapper.js"></script>
  <!-- The two scripts below share the same scope, they were split for the sake
    of readability. -->
  <!-- <script type="application/javascript"
    src="chrome://conversations/content/quickReply.js"></script>
  <script type="application/javascript"
    src="chrome://conversations/content/stub.completion-ui.js"></script>
  <script type="application/javascript"
    src="chrome://conversations/content/stub.compose-ui.js"></script> -->
  <script type="application/javascript" src="stub.js"></script>
</head>

<body>
  <script id="messageTemplate" type="text/x-handlebars-template"><![CDATA[
    <li class="message collapsed {{extraClasses}}">
      <!-- The following goes after the messageDetails -->

      {{#if generateLightningTempl}}
      <div class="lightningImipBar notificationBar" style="display: none">
        <img class="lightningImipImage" src="chrome://calendar/skin/cal-icon32.png"/>
        <span class="lightningImipText"></span>
        <!-- The text for all these buttons is filled dynamically -->

        <!-- show event/invitation details -->
        <button id="imipDetailsButton"
                class="lightningImipButton msgHeaderView-button imipDetailsButton"
                onclick="ltnImipBar.executeAction('X-SHOWDETAILS')"
                style="display: none">
        </button>

        <!-- add published events -->
        <button id="imipAddButton"
                class="lightningImipButton msgHeaderView-button imipAddButton"
                onclick="ltnImipBar.executeAction()"
                style="display: none">
        </button>

        <!-- update published events and invitations -->
        <button id="imipUpdateButton"
                class="lightningImipButton msgHeaderView-button imipUpdateButton"
                onclick="ltnImipBar.executeAction()"
                style="display: none">
        </button>

        <!-- delete cancelled events from calendar -->
        <button id="imipDeleteButton"
                class="lightningImipButton msgHeaderView-button imipDeleteButton"
                onclick="ltnImipBar.executeAction()"
                style="display: none">
        </button>

        <!-- re-confirm partstat -->
        <button id="imipReconfirmButton"
                class="lightningImipButton msgHeaderView-button imipReconfirmButton"
                onclick="ltnImipBar.executeAction()"
                style="display: none">
        </button>

        <!-- accept -->
        <button id="imipAcceptButton"
                onclick="if (event.target.id == this.id) ltnImipBar.executeAction('ACCEPTED');"
                type="menu-button"
                class="imip-button lightningImipButton msgHeaderView-button imipAcceptButton"
                style="display: none">
          <menupopup id="imipAcceptDropdown">
            <menuitem id="imipAcceptButton_Accept"
                      onclick="ltnImipBar.executeAction('ACCEPTED');"/>
            <menuitem id="imipAcceptButton_Tentative"
                      onclick="ltnImipBar.executeAction('TENTATIVE');"/>
            <!-- add here more menuitem as needed -->
          </menupopup>
        </button>

        <!-- accept recurrences -->
        <button id="imipAcceptRecurrencesButton"
                onclick="if (event.target.id == this.id) ltnImipBar.executeAction('ACCEPTED');"
                type="menu-button"
                class="imip-button lightningImipButton msgHeaderView-button imipAcceptRecurrencesButton"
                style="display: none">
          <menupopup id="imipAcceptRecurrencesDropdown">
            <menuitem id="imipAcceptRecurrencesButton_Accept"
                      onclick="ltnImipBar.executeAction('ACCEPTED');"/>
            <menuitem id="imipAcceptRecurrencesButton_Tentative"
                      onclick="ltnImipBar.executeAction('TENTATIVE');"/>
            <!-- add here more menuitem as needed -->
          </menupopup>
        </button>

        <!-- tentative; should only be used, if no imipMoreButton is used and
           - imipDeclineButton/imipAcceptButton have no visible menuitems //-->
        <button id="imipTentativeButton"
                class="lightningImipButton msgHeaderView-button imipTentativeButton"
                onclick="if (event.target.id == this.id) ltnImipBar.executeAction('TENTATIVE');"
                type="menu-button"
                style="display: none">
          <menupopup id="imipTentativeDropdown">
            <menuitem id="imipTentativeButton_Tentative"
                      onclick="ltnImipBar.executeAction('TENTATIVE');"/>
            <!-- add here more menuitem as needed -->
          </menupopup>
        </button>

        <!-- tentative recurrences; should only be used, if no imipMoreButton is used and
           - imipDeclineRecurrencesButton/imipAcceptRecurrencesButton have no visible menuitems //-->
        <button id="imipTentativeRecurrencesButton"
                class="lightningImipButton msgHeaderView-button imipTentativeRecurrencesButton"
                onclick="if (event.target.id == this.id) ltnImipBar.executeAction('TENTATIVE');"
                type="menu-button"
                style="display: none">
          <menupopup id="imipTentativeRecurrencesDropdown">
            <menuitem id="imipTentativeRecurrencesButton_Tentative"
                      onclick="ltnImipBar.executeAction('TENTATIVE');"/>
            <!-- add here more menuitem as needed -->
          </menupopup>
        </button>

        <!-- decline -->
        <button id="imipDeclineButton"
                onclick="if (event.target.id == this.id) ltnImipBar.executeAction('DECLINED');"
                type="menu-button"
                class="lightningImipButton msgHeaderView-button imipDeclineButton"
                style="display: none">
          <menupopup id="imipDeclineDropdown">
            <menuitem id="imipDeclineButton_Decline"
                      onclick="ltnImipBar.executeAction('DECLINED');"/>
            <!-- add here more menuitem as needed -->
          </menupopup>
        </button>

        <!-- decline recurrences -->
        <button id="imipDeclineRecurrencesButton"
                onclick="if (event.target.id == this.id) ltnImipBar.executeAction('DECLINED');"
                type="menu-button"
                class="lightningImipButton msgHeaderView-button imipDeclineRecurrencesButton"
                style="display: none">
          <menupopup id="imipDeclineRecurrencesDropdown">
            <menuitem id="imipDeclineRecurrencesButton_DeclineAll"
                      onclick="ltnImipBar.executeAction('DECLINED');"/>
            <!-- add here more menuitem as needed -->
          </menupopup>
        </button>

        <!-- more options -->
        <button id="imipMoreButton"
                type="menu"
                class="lightningImipButton msgHeaderView-button imipMoreButton"
                style="display: none">
          <menupopup id="imipMoreDropdown">
            <!-- add here a menuitem as needed -->
          </menupopup>
        </button>
      </div>
      {{/if}}
      <!-- Phishing / Remote Content / Junk / Outbox bars went here */
      <div class="enigmailBar notificationBar" style="display: none">
        <span class="enigmailMessage"></span>
        <span class="enigmailDetails">
          <button>{{str "Details"}}</button>
        </span>
      </div>
    </li>
    ]]>
  </script>
  <div id="conversationWrapper">
  </div>
</body>
</html>
